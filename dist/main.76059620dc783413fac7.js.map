{"version":3,"sources":["webpack:///./src/index.css?7d1f","webpack:///./src/index.css","webpack:///./src/App.css?2e14","webpack:///./src/App.css","webpack:///./src/App.js","webpack:///./src/index.js"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","MAX_LENGTH","Icon","_ref","char","sep","_ref$reverse","reverse","padding","Array","fill","react_default","a","createElement","concat","_toConsumableArray","Happy","_ref2","Neutral","_ref3","Sad","_ref4","Dead","_ref5","MLetterInput","memo","_ref6","l","value","onChange","len","length","style","width","id","className","float","_ref7","_ref8","alphabet","from","reduce","r","_objectSpread","_defineProperty","isStopped","setTimeout","perfCallback","phase","actualDuration","baseDuration","startTime","commitTime","interactions","console","log","useToggle","state","useEffect","document","getElementById","itMatters","click","useTyping","_","setState","inputs","getElementsByClassName","forEach","el","idx","isTyping","setInterval","_state","slice","clearInterval","Form","_ref9","toggle","changeLetter","useCallback","e","target","name","type","Object","keys","map","key","App","_useState2","_slicedToArray","useState","react","onRender","registerObserver","ReactDOM","render","src_App"],"mappings":"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","file":"main.76059620dc783413fac7.js","sourcesContent":["\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./index.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"body {\\n  margin: 0;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", \\\"Roboto\\\", \\\"Oxygen\\\",\\n    \\\"Ubuntu\\\", \\\"Cantarell\\\", \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\",\\n    sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\ncode {\\n  font-family: source-code-pro, Menlo, Monaco, Consolas, \\\"Courier New\\\",\\n    monospace;\\n}\\n\", \"\"]);\n","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!./App.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!./App.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!./App.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".App {\\n  text-align: center;\\n}\\n\\n.App-header {\\n  background-color: #282c34;\\n  min-height: 10vh;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: calc(10px + 2vmin);\\n  color: white;\\n}\\n\\n.App-link {\\n  color: #61dafb;\\n}\\n\\n@keyframes App-logo-spin {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\", \"\"]);\n","import React, {\n  unstable_Profiler as Profiler,\n  useCallback,\n  useEffect,\n  memo,\n  useState\n} from \"react\"\nimport \"./App.css\"\n\nimport {\n  unstable_trace as trace,\n  unstable_wrap as wrap\n} from \"scheduler/tracing\"\n\nconst TIMER_WINDOW = 20000\nconst MAX_LENGTH = 20\nconst TYPING_DELAY = 20\n\nfunction Icon({ i, sep = \" \", char, reverse = false }) {\n  const padding = Array(i).fill(<span>&nbsp;</span>)\n  return reverse ? [char, ...padding] : [...padding, char]\n}\n\nfunction Happy({ i }) {\n  return <Icon i={i} char=\"ᕕ( ᐛ )ᕗ\" />\n}\nfunction Neutral({ i }) {\n  return <Icon i={i} reverse={true} char=\"¯_(ツ)_/¯\" />\n}\nfunction Sad({ i }) {\n  return <Icon i={i} char=\"¯_(☯෴☯)_/¯\" />\n}\nfunction Dead({ i }) {\n  return <Icon i={i} reverse={true} char=\"(✖╭╮✖)\" />\n}\n\nfunction LetterInput({ l, i, value, onChange }) {\n  const len = value.length\n  return (\n    <div style={{ padding: \"1em 0\" }}>\n      {`Letter ${i + 1}: `}\n      <input\n        style={{ width: \"40%\" }}\n        id={l}\n        className=\"input-letter\"\n        value={value}\n        onChange={onChange}\n      />\n      <span style={{ float: \"right\", width: \"50%\" }}>\n        {len < MAX_LENGTH / 4 ? (\n          <Happy i={len} />\n        ) : len < MAX_LENGTH / 2 ? (\n          <Neutral i={len} />\n        ) : len < (3 * MAX_LENGTH) / 4 ? (\n          <Sad i={len} />\n        ) : (\n          <Dead i={len} />\n        )}\n      </span>\n    </div>\n  )\n}\n\nconst MLetterInput = memo(\n  LetterInput,\n  ({ value: _old }, { value: _new }) => _old === _new\n)\n\nconst alphabet = Array.from(\"abcdefghijklmnopqrstuvwxyz\").reduce(\n  (l, r) => ({ ...l, [r]: r }),\n  {}\n)\n// const worker = new Worker(\"reactionTime.worker.js\", { type: \"module\" })\n// worker.onmessage = ({ data }) => {\n//   console.log(`Time delay was: ${data}`)\n// }\n\nlet isStopped = false\nsetTimeout(() => {\n  isStopped = true\n}, TIMER_WINDOW)\n\nconst perfCallback = (\n  id,\n  phase,\n  actualDuration,\n  baseDuration,\n  startTime,\n  commitTime,\n  interactions\n) => {\n  console.log({ actualDuration, baseDuration, interactions })\n}\n\nfunction App() {\n  const [state, setState] = useState({ itMatters: false, ...alphabet })\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">Unnecessary re-renders</header>\n      <Profiler id=\"Form\" onRender={perfCallback}>\n        <Form state={state} setState={setState} />\n      </Profiler>\n    </div>\n  )\n}\n\nconst useToggle = state =>\n  useEffect(() => {\n    if (!isStopped) {\n      setTimeout(\n        // trace(\n        // `toggle${performance.now()}`,\n        // performance.now(),\n        () => {\n          // worker.postMessage(\"start\")\n          document.getElementById(`toggle${+state.itMatters}`).click()\n        },\n        300\n        // )\n      )\n    }\n  }, [state])\n\nconst useTyping = (_, setState) =>\n  useEffect(() => {\n    const inputs = document.getElementsByClassName(\"input-letter\")\n    Array.from(inputs).forEach((el, idx) => {\n      const delay = (1 + idx) * TYPING_DELAY\n      const isTyping = setInterval(() => {\n        const l = el.id\n        // trace(`${l}${performance.now()}`, performance.now(), () => {\n        setState(_state => ({\n          ..._state,\n          [l]:\n            _state[l].length < MAX_LENGTH\n              ? _state[l] + _state[l].slice(0, 1)\n              : _state[l].slice(0, 1)\n        }))\n        // el.value = n\n        // el.dispatchEvent(new Event(\"change\", { bubbles: true }))\n        // })\n      }, delay)\n      setTimeout(() => {\n        clearInterval(isTyping)\n      }, TIMER_WINDOW)\n    })\n  }, [])\n\nfunction Form({ state, setState }) {\n  useToggle(state)\n  useTyping(state, setState)\n  const { itMatters } = state\n  const toggle = () => {\n    setState({ ...state, itMatters: !itMatters })\n    // worker.postMessage(\"stop\")\n  }\n  const changeLetter = l =>\n    useCallback(e => setState({ ...state, [l]: e.target.value }))\n  // const changeLetter = l => e => setState({ ...state, [l]: e.target.value })\n  return (\n    <form name=\"f\">\n      <h2>Does unnecessary re-rendering matter?</h2>\n      <div>\n        <input\n          type=\"radio\"\n          name=\"t\"\n          value={!itMatters}\n          id=\"toggle0\"\n          onChange={toggle}\n        />\n        Nope\n      </div>\n      <div>\n        <input\n          type=\"radio\"\n          name=\"t\"\n          value={itMatters}\n          id=\"toggle1\"\n          onChange={toggle}\n        />\n        Of course!\n      </div>\n      {Object.keys(alphabet).map((l, i) => (\n        <MLetterInput\n          // <LetterInput\n          key={l}\n          l={l}\n          i={i}\n          value={state[l]}\n          onChange={changeLetter(l)}\n        />\n      ))}\n    </form>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport { registerObserver } from \"react-perf-devtool\"\n\nregisterObserver()\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}